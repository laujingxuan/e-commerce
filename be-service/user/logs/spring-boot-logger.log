2023-05-25 16:21:56,248 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@58491bee - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@191ff0c2 - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)
	at com.example.user.UserApplication.main(UserApplication.java:10)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@58491bee - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@191ff0c2 - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)
	at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)
	at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)
	... 24 common frames omitted
2023-05-25 16:23:00,516 ERROR org.springframework.boot.SpringApplication [restartedMain] Application run failed
java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@5bfccd14 - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@4cc917ff - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)
	at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)
	at com.example.user.UserApplication.main(UserApplication.java:10)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalStateException: Logback configuration error detected: 
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@5bfccd14 - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
ERROR in ch.qos.logback.classic.pattern.ClassOfCallerConverter@4cc917ff - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: "1."
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)
	at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)
	at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)
	at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)
	at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)
	... 24 common frames omitted
2023-05-25 16:26:38,032 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-05-25 16:26:38,090 INFO o.s.b.StartupInfoLogger [restartedMain] Starting UserApplication using Java 17.0.2 with PID 21464 (/Users/jingxuan.lau/Desktop/Programming/e-commerce/be-service/user/target/classes started by jingxuan.lau in /Users/jingxuan.lau/Desktop/Programming/e-commerce/be-service/user)
2023-05-25 16:26:38,092 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2023-05-25 16:26:38,145 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-25 16:26:38,146 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-25 16:26:38,905 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-25 16:26:39,058 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 143 ms. Found 1 JPA repository interfaces.
2023-05-25 16:26:39,757 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2023-05-25 16:26:39,766 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2023-05-25 16:26:39,767 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2023-05-25 16:26:39,767 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-05-25 16:26:39,828 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2023-05-25 16:26:39,830 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1681 ms
2023-05-25 16:26:40,007 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-25 16:26:40,054 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.1.7.Final
2023-05-25 16:26:40,324 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2023-05-25 16:26:40,656 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@64a12e17
2023-05-25 16:26:40,658 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2023-05-25 16:26:40,723 INFO o.h.e.j.d.i.DialectFactoryImpl [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2023-05-25 16:26:41,531 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-25 16:26:41,541 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-25 16:26:42,095 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-25 16:26:42,199 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c0190a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a3dd415, org.springframework.security.web.context.SecurityContextHolderFilter@43c0935c, org.springframework.security.web.header.HeaderWriterFilter@34cd9ef2, org.springframework.security.web.authentication.logout.LogoutFilter@4618172c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@723cc1fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34bb0307, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77a58a0e, org.springframework.security.web.access.ExceptionTranslationFilter@64d21ad9, org.springframework.security.web.access.intercept.AuthorizationFilter@6e730722]
2023-05-25 16:26:42,607 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2023-05-25 16:26:42,620 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2023-05-25 16:26:42,637 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2023-05-25 16:26:42,646 INFO o.s.b.StartupInfoLogger [restartedMain] Started UserApplication in 5.127 seconds (process running for 5.678)
2023-05-25 16:26:42,793 WARN o.h.e.j.s.SqlExceptionHelper [restartedMain] SQL Error: 1062, SQLState: 23000
2023-05-25 16:26:42,794 ERROR o.h.e.j.s.SqlExceptionHelper [restartedMain] Duplicate entry 'admin@hotmail.com' for key 'user.UK_ob8kqyqqgmefl0aco34akdtpe'
2023-05-25 16:26:42,887 WARN o.h.e.j.s.SqlExceptionHelper [restartedMain] SQL Error: 1062, SQLState: 23000
2023-05-25 16:26:42,887 ERROR o.h.e.j.s.SqlExceptionHelper [restartedMain] Duplicate entry 'user@hotmail.com' for key 'user.UK_ob8kqyqqgmefl0aco34akdtpe'
2023-05-25 16:26:42,965 WARN o.h.e.j.s.SqlExceptionHelper [restartedMain] SQL Error: 1062, SQLState: 23000
2023-05-25 16:26:42,966 ERROR o.h.e.j.s.SqlExceptionHelper [restartedMain] Duplicate entry 'john@hotmail.com' for key 'user.UK_ob8kqyqqgmefl0aco34akdtpe'
2023-05-25 16:27:16,215 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-25 16:27:16,226 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-05-25 16:27:16,237 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-05-25 16:43:21,668 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-05-25 16:43:21,716 INFO o.s.b.StartupInfoLogger [restartedMain] Starting UserApplication using Java 17.0.2 with PID 22253 (/Users/jingxuan.lau/Desktop/Programming/e-commerce/be-service/user/target/classes started by jingxuan.lau in /Users/jingxuan.lau/Desktop/Programming/e-commerce/be-service/user)
2023-05-25 16:43:21,717 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2023-05-25 16:43:21,765 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-25 16:43:21,766 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-25 16:43:22,540 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-25 16:43:22,711 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 161 ms. Found 1 JPA repository interfaces.
2023-05-25 16:43:23,497 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2023-05-25 16:43:23,508 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2023-05-25 16:43:23,509 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2023-05-25 16:43:23,509 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-05-25 16:43:23,578 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2023-05-25 16:43:23,580 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1813 ms
2023-05-25 16:43:23,779 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-25 16:43:23,832 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.1.7.Final
2023-05-25 16:43:24,148 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2023-05-25 16:43:24,512 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e82ea2f
2023-05-25 16:43:24,515 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2023-05-25 16:43:24,577 INFO o.h.e.j.d.i.DialectFactoryImpl [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2023-05-25 16:43:25,425 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-25 16:43:25,436 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-25 16:43:26,013 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-25 16:43:26,121 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e0f5185, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a88c1f, org.springframework.security.web.context.SecurityContextHolderFilter@43de3942, org.springframework.security.web.header.HeaderWriterFilter@39017262, org.springframework.security.web.authentication.logout.LogoutFilter@9e7ead9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c6d6aa7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34cd9ef2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25cdfaea, org.springframework.security.web.access.ExceptionTranslationFilter@6bf5236c, org.springframework.security.web.access.intercept.AuthorizationFilter@4618172c]
2023-05-25 16:43:26,561 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2023-05-25 16:43:26,578 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2023-05-25 16:43:26,597 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2023-05-25 16:43:26,606 INFO o.s.b.StartupInfoLogger [restartedMain] Started UserApplication in 5.485 seconds (process running for 6.076)
2023-05-25 16:43:26,786 WARN o.h.e.j.s.SqlExceptionHelper [restartedMain] SQL Error: 1062, SQLState: 23000
2023-05-25 16:43:26,786 ERROR o.h.e.j.s.SqlExceptionHelper [restartedMain] Duplicate entry 'admin@hotmail.com' for key 'user.UK_ob8kqyqqgmefl0aco34akdtpe'
2023-05-25 16:43:26,798 WARN c.e.u.s.UserServiceImpl [restartedMain] Save user: could not execute statement; SQL [n/a]; constraint [user.UK_ob8kqyqqgmefl0aco34akdtpe]
2023-05-25 16:43:26,898 WARN o.h.e.j.s.SqlExceptionHelper [restartedMain] SQL Error: 1062, SQLState: 23000
2023-05-25 16:43:26,899 ERROR o.h.e.j.s.SqlExceptionHelper [restartedMain] Duplicate entry 'user@hotmail.com' for key 'user.UK_ob8kqyqqgmefl0aco34akdtpe'
2023-05-25 16:43:26,900 WARN c.e.u.s.UserServiceImpl [restartedMain] Save user: could not execute statement; SQL [n/a]; constraint [user.UK_ob8kqyqqgmefl0aco34akdtpe]
2023-05-25 16:43:26,994 WARN o.h.e.j.s.SqlExceptionHelper [restartedMain] SQL Error: 1062, SQLState: 23000
2023-05-25 16:43:26,994 ERROR o.h.e.j.s.SqlExceptionHelper [restartedMain] Duplicate entry 'john@hotmail.com' for key 'user.UK_ob8kqyqqgmefl0aco34akdtpe'
2023-05-25 16:43:26,996 WARN c.e.u.s.UserServiceImpl [restartedMain] Save user: could not execute statement; SQL [n/a]; constraint [user.UK_ob8kqyqqgmefl0aco34akdtpe]
2023-05-25 16:43:54,747 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-25 16:43:54,748 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2023-05-25 16:43:54,750 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 2 ms
2023-05-25 16:44:09,898 WARN c.e.u.s.UserServiceImpl [http-nio-8081-exec-4] Get user details: User is unauthorized
